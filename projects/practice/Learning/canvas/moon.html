<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>moon</title>
</head>
<body>
	<div>
		<canvas id="moonCanvas" style="display:block; margin:10px auto; border:1px solid #aaa;"></canvas>
	</div>

	<script type="text/javascript">
		window.onload = function () {
			var canvas = document.getElementById('moonCanvas');
			var context = canvas.getContext('2d');

			canvas.width = 600;
			canvas.height = 500; 

			// context.arc(400, 400, 300, 0.5 * Math.PI, 1.5 * Math.PI, true);
			// context.moveTo(400, 100);
			// context.arcTo(1200, 400, 400, 700, (400-100) * dis(400, 100, 1200, 400)/(1200-400));

			context.lineWidth = 10;
			context.strokeStyle = "#131CC2";
			context.stroke();
			context.fillStyle = 'yellow';
			context.fill();

			drawMoon(context, 2, 200, 200, 200, 30);
		}	

		// 绘制月亮的函数
		function drawMoon(ctx,d,x,y,R,rot,fillColor){
			ctx.save();
			ctx.translate(x,y);
			ctx.rotate(rot*Math.PI/180);
			ctx.scale(R,R);
			pathMoon(ctx,d);
			ctx.fill();
			ctx.restore();
		}
		function pathMoon(ctx,d){
			ctx.beginPath();
			// 绘制内弧
			ctx.arc(0, 0, 1, 0.5*Math.PI, 1.5*Math.PI, true);
			ctx.moveTo(0,-1);
			// 绘制外弧
			ctx.arcTo(d, 0, 0, 1, dis(0,-1,d,0) / d);
			ctx.closePath();
		}

		// 两点间坐标距离公式
		function dis(x1,y1,x2,y2){
			return Math.sqrt((x1-x2)*(x1-x2) + (y1-y2)*(y1-y2));
		}	

	</script>
</body>
</html>


















